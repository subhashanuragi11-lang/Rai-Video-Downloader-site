<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âš¡ Flash Video Downloader</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root { --primary: #00d2ff; --secondary: #3a7bd5; --bg: #0f0c29; --glass: rgba(255, 255, 255, 0.1); }
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(to right, #24243e, #302b63, #0f0c29); color: white; min-height: 100vh; display: flex; flex-direction: column; align-items: center; margin: 0; padding: 20px; }
        
        .container { background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: 20px; border: 1px solid rgba(255,255,255,0.2); padding: 30px; width: 100%; max-width: 500px; text-align: center; box-shadow: 0 8px 32px rgba(0,0,0,0.37); margin-top: 20px; }
        
        h1 { background: linear-gradient(to right, #00d2ff, #928DAB); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 700; margin-bottom: 5px; }
        p.sub { color: #ccc; font-size: 0.9rem; margin-bottom: 20px; }
        
        input { width: 85%; padding: 15px; border-radius: 50px; border: none; background: rgba(255,255,255,0.15); color: white; outline: none; text-align: center; margin-bottom: 15px; }
        input:focus { background: rgba(255,255,255,0.25); border: 1px solid var(--primary); }
        
        .btn-main { background: linear-gradient(45deg, var(--secondary), var(--primary)); border: none; padding: 15px; border-radius: 50px; color: white; font-weight: bold; width: 100%; cursor: pointer; transition: 0.3s; }
        .btn-main:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0, 210, 255, 0.4); }

        /* AD BOX DESIGN */
        .ad-box {
            background: rgba(0, 0, 0, 0.4);
            border: 1px dashed #555;
            margin: 15px 0;
            padding: 10px;
            border-radius: 10px;
            min-height: 100px; /* Minimum height taaki ad dikhe */
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .ad-text { font-size: 0.7rem; color: #777; margin-bottom: 5px; }

        .loader { display: none; border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid var(--primary); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        #result { display: none; margin-top: 20px; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        img.thumb { width: 100%; border-radius: 15px; margin-bottom: 10px; }
        
        .dl-btn { display: block; background: #2ecc71; color: white; padding: 12px; border-radius: 10px; text-decoration: none; font-weight: bold; margin-top: 10px; transition: 0.3s; }
        .dl-btn:hover { background: #27ae60; color: white; }
    </style>
</head>
<body>

    <div class="container">
        
        <!-- ======================= -->
        <!-- ðŸ’° 1. TOP BANNER AD     -->
        <!-- ======================= -->
        <div class="ad-box">
            <div style="text-align: center;">
                <p class="ad-text">SPONSORED</p>
                
                <!-- ðŸ‘‡ YAHAN ADSTERRA 320x50 ya 300x100 CODE PASTE KAREIN ðŸ‘‡ -->
                <!-- Example: <script ...></script> -->
                <h4 style="color:#555;">(Banner Ad Space)</h4> 

            </div>
        </div>

        <h1>Flash Downloader</h1>
        <p class="sub">Instagram â€¢ YouTube â€¢ TikTok â€¢ Facebook</p>

        <input type="text" id="url" placeholder="Paste Video Link Here...">
        <button class="btn-main" onclick="fetchVideo()">Download Now ðŸš€</button>

        <div class="loader" id="loader"></div>

        <div id="result">
            <img id="thumb" class="thumb" src="" alt="Thumbnail">
            <h4 id="title" style="font-size: 1rem; margin-bottom: 10px;"></h4>
            
            <!-- ðŸ’° DOWNLOAD BUTTON (With Ad Trigger) -->
            <a id="dl-btn" href="#" target="_blank" class="dl-btn" onclick="triggerAd()">
                <i class="fas fa-download"></i> Save to Gallery
            </a>
        </div>

        <!-- ======================= -->
        <!-- ðŸ’° 2. BOTTOM BANNER AD  -->
        <!-- ======================= -->
        <div class="ad-box">
            <div style="text-align: center;">
                <p class="ad-text">SPONSORED</p>

                <!-- ðŸ‘‡ YAHAN ADSTERRA 300x250 CODE PASTE KAREIN ðŸ‘‡ -->
                <!-- Example: <script ...></script> -->
                <h4 style="color:#555;">(Square Ad Space)</h4>

            </div>
        </div>

        <p style="font-size: 0.8rem; color: #777; margin-top: 20px;">&copy; 2025 Secure Downloader</p>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // =======================
        // ðŸ’° 3. DIRECT LINK AD SETUP
        // =======================
        
        // Niche "YOUR_DIRECT_LINK_HERE" ko hatakar apna Adsterra Direct Link dalo
        // Link aisa dikhega: https://www.example.com/xyz...
        const DIRECT_AD_LINK = "YOUR_DIRECT_LINK_HERE"; 

        async function fetchVideo() {
            let url = document.getElementById('url').value;
            if (!url) return alert("Please paste a link!");

            document.getElementById('loader').style.display = 'block';
            document.getElementById('result').style.display = 'none';

            try {
                let response = await fetch('/get-video', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({url: url})
                });
                let data = await response.json();

                if (data.status === 'success') {
                    document.getElementById('thumb').src = data.thumbnail;
                    document.getElementById('title').innerText = data.title;
                    document.getElementById('dl-btn').href = data.download_url;
                    document.getElementById('result').style.display = 'block';
                } else {
                    alert("Error: " + data.message);
                }
            } catch (err) {
                alert("Failed to fetch video. Please check the link.");
            } finally {
                document.getElementById('loader').style.display = 'none';
            }
        }

        // Yeh function tab chalega jab koi "Save to Gallery" dabayega
        function triggerAd() {
            if (DIRECT_AD_LINK && DIRECT_AD_LINK !== "YOUR_DIRECT_LINK_HERE") {
                // Ad naye tab mein khulega
                window.open(DIRECT_AD_LINK, '_blank');
            }
            // Note: Video download usi tab mein start ho jayegi
        }
    </script>

</body>
                  </html>
